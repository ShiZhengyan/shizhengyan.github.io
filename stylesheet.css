/* ---------- CSS VARIABLES (LIGHT/DARK THEME) ---------- */
:root {
  --bg: #ffffff;
  --text: #2c3e50;
  --link: #0366d6;
  --accent: #0366d6;
  --card: #f8f9fa;
  --muted: #6c757d;
  --border: #e1e4e8;
  --shadow: rgba(0,0,0,0.1);
  --radius: 8px;
  --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-mono: 'Roboto Mono', monospace;
}

.dark {
  --bg: #0d1117;
  --text: #c9d1d9;
  --link: #58a6ff;
  --accent: #58a6ff;
  --card: #161b22;
  --muted: #8b949e;
  --border: #30363d;
  --shadow: rgba(0,0,0,0.3);
}

/* ---------- RESET & BASE ---------- */
*{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{
  background:var(--bg);
  color:var(--text);
  font-family:var(--font-sans);
  line-height:1.6;
  -webkit-font-smoothing:antialiased;
  -webkit-text-size-adjust:100%; /* Prevent iOS text size adjustment */
  transition: background 0.3s ease, color 0.3s ease;
  overflow-x:hidden; /* Prevent horizontal scroll */
}

/* Fonts already loaded via Google Fonts CDN in HTML */

/* ---------- TYPOGRAPHY ---------- */
a {
  color: var(--link);
  text-decoration: none;
  transition: color 0.2s ease, opacity 0.2s ease;
}

a:focus,
a:hover {
  color: var(--accent);
  opacity: 0.8;
}

body,
td,
th,
tr,
p,
a {
  font-family: 'Lato', Verdana, Helvetica, sans-serif;
  font-size: 14px;
}

strong {
  font-family: 'Lato', Verdana, Helvetica, sans-serif;
  font-size: 14px;
}

h2 {
  margin: 0;
  font-weight: normal;
  font-family: 'Lato', Verdana, Helvetica, sans-serif;
  font-size: 22px;
}

.papertitle {
  font-family: 'Lato', Verdana, Helvetica, sans-serif;
  font-size: 14px;
  font-weight: 700;
}

.name {
  padding-top: 20px;
  margin: 0;
  font-family: 'Lato', Verdana, Helvetica, sans-serif;
  font-size: 32px;
}

.one {
  width: 160px;
  height: 160px;
  position: relative;
}

.two {
  width: 160px;
  height: 160px;
  position: absolute;
  transition: opacity .2s ease-in-out;
  -moz-transition: opacity .2s ease-in-out;
  -webkit-transition: opacity .2s ease-in-out;
}

.fade {
  transition: opacity .2s ease-in-out;
  -moz-transition: opacity .2s ease-in-out;
  -webkit-transition: opacity .2s ease-in-out;
}

span.highlight {
  background-color: #ffffd0;
}

/* ---------- typography ---------- */
h1,h2,h3{color:var(--text);font-weight:700}
h1.name{font-size:2.5rem;letter-spacing:-.5px}
h2{margin:2rem 0 1rem}
a{color:var(--accent);text-decoration:none}
a:hover{opacity:.8}

/* ---------- layout tweaks ---------- */
main{padding:0 1rem}
header table{width:100%}

/* Base responsive typography using clamp() for fluid scaling */
.name{font-size:clamp(2rem, 5vw, 2.5rem);}
h2{font-size:clamp(1.3rem, 4vw, 1.8rem);}
body, td, th, tr, p, a{font-size:clamp(14px, 2.5vw, 16px);}

/* Responsive profile image */
header td img{
  width:clamp(200px, 25vw, 300px);
  transition:all 0.3s ease;
}

/* Touch-friendly navigation links */
header p:last-of-type a{
  display:inline-block;
  padding:0.5rem 1rem;
  margin:0.25rem;
  border-radius:var(--radius);
  transition:all 0.2s ease;
}

@media(max-width:600px){
  header table{display:block}
  header td{display:block;width:100%!important;text-align:center}
}

/* ---------- RESEARCH PAPER CARDS ---------- */
.paper{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1.25rem;
  transition: transform .3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow .3s ease, background .2s ease;
}
.paper:hover{
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 12px 32px var(--shadow);
  border-color: var(--accent);
}
.paper-image img{
  border-radius: var(--radius);
  transition: transform 0.3s ease;
}
.paper:hover .paper-image img{
  transform: scale(1.05);
}
.paper h3{margin: 0 0 .25rem}
.authors, .publication, .links{color: var(--muted)}
.paper .abstract{
  color: var(--text);
  opacity: 0.9;
}

/* ---------- reveal animation ---------- */
.reveal{opacity:0;transform:translateY(30px);transition:all .8s cubic-bezier(0.4, 0, 0.2, 1)}
.reveal.visible{opacity:1;transform:none}

/* ---------- enhanced animations ---------- */
.paper{
  transition:transform .3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow .3s ease, background .2s ease;
}
.paper:hover{
  transform:translateY(-6px) scale(1.02);
  box-shadow:0 12px 32px rgba(0,0,0,.2);
}

/* smooth link hover effects */
a{
  transition:color .2s ease, opacity .2s ease;
}

/* enhanced theme toggle animation */
#theme-toggle{
  transition:all .3s cubic-bezier(0.4, 0, 0.2, 1);
}
#theme-toggle:hover{
  transform:scale(1.1) rotate(15deg);
}

/* subtle page entrance animation */
@keyframes pageEntrance{
  from{opacity:0;transform:translateY(20px);}
  to{opacity:1;transform:none;}
}
main{
  animation:pageEntrance .8s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ---------- CONTENT SECTIONS ---------- */
.content-section{margin-top:3rem}
.section-heading{margin-bottom:1rem}

/* ---------- NEWS SECTION ---------- */
.news-container{
  display: flex;
  flex-direction: column;
  gap: 1rem;
}
.news-item{
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1rem;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  transition: all 0.3s ease;
}
.news-item:hover{
  transform: translateX(5px);
  border-color: var(--accent);
  box-shadow: 0 4px 12px var(--shadow);
}
.news-date{
  flex-shrink: 0;
  font-weight: 600;
  color: var(--accent);
  font-size: 0.9rem;
  background: var(--bg);
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  border: 1px solid var(--border);
}
.news-content{
  color: var(--text);
  line-height: 1.5;
}

/* Consolidated theme variables already defined above */

/* theme toggle button */
#theme-toggle{
  position:fixed;top:1rem;right:1rem;
  background:none;border:none;cursor:pointer;
  font-size:1.25rem;color:var(--text);
}

/* ---------- MOBILE RESPONSIVENESS ---------- */
/* Tablet and small desktop */
@media(max-width:1024px){
  main{max-width:90%;padding:0 5%;}
  .paper-image img{width:140px;}
}

/* Mobile landscape and small tablets */
@media(max-width:768px){
  /* main container */
  main{max-width:95%;padding:0 2.5%;}
  
  /* header layout - change from table to flexbox for better control */
  header table{display:flex;flex-direction:column;align-items:center;}
  header tr{display:flex;flex-direction:column-reverse;width:100%;}
  header td{display:block;width:100%!important;text-align:center!important;}
  header td:first-child{margin-top:1.5rem;order:2;}
  header td:last-child{order:1;margin-bottom:1rem;}
  
  /* profile image optimization - better responsive sizing */
  header td img{
    width:clamp(150px, 50vw, 250px)!important;
    max-width:250px!important;
    border-radius:50%!important;
    box-shadow:0 4px 16px var(--shadow);
  }
  
  /* name and text scaling with better responsive typography */
  .name{
    font-size:clamp(1.8rem, 6vw, 2.5rem)!important;
    margin-bottom:1rem!important;
  }
  body, td, th, tr, p, a{font-size:16px!important;line-height:1.7;}
  h2{font-size:1.5rem!important;}
  
  /* better spacing for mobile */
  header{padding:1rem!important;}
  .content-section{margin-top:2rem!important;}
  
  /* paper cards mobile optimization */
  .paper{
    flex-direction:column;
    align-items:center;
    padding:1rem;
    margin-bottom:1.5rem;
  }
  .paper-image{
    margin-bottom:1rem;
    width:100%;
    text-align:center;
    order:-1;
  }
  .paper-image img{width:120px;height:auto;}
  .paper-content{text-align:center;}
  
  /* navigation links - better mobile spacing */
  header p:last-of-type{
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:0.5rem;
    margin-top:1rem;
  }
  header p:last-of-type a{
    padding:0.5rem 1rem;
    background:var(--card);
    border:1px solid var(--border);
    border-radius:var(--radius);
    margin:0.25rem;
    transition:all 0.2s ease;
  }
  header p:last-of-type a:hover{
    background:var(--accent);
    color:white;
    transform:translateY(-2px);
  }
  
  /* AI agent positioning */
  #ai-agent{bottom:1rem;right:1rem;}
  .agent-avatar{width:2.5rem;height:2.5rem;font-size:1.5rem;}
  
  /* theme toggle */
  #theme-toggle{top:0.5rem;right:0.5rem;font-size:1.1rem;}
  
  /* news section mobile optimization */
  .news-item{
    flex-direction:column;
    gap:0.5rem;
    text-align:center;
  }
  .news-date{align-self:center;}
}

@media(max-width:480px){
  /* extra small screens */
  main{padding:0 1rem;}
  
  .name{font-size:clamp(1.5rem, 8vw, 2rem)!important;}
  body, td, th, tr, p, a{font-size:15px!important;}
  h2{font-size:1.3rem!important;}
  
  /* profile image for very small screens */
  header td img{
    width:clamp(120px, 40vw, 180px)!important;
    max-width:180px!important;
  }
  
  /* more compact spacing */
  header{padding:0.5rem!important;}
  .content-section{margin-top:1.5rem!important;}
  .paper{padding:0.8rem;}
  .paper-image img{width:100px;}
  
  /* navigation links more compact */
  header p:last-of-type a{
    padding:0.4rem 0.8rem;
    font-size:0.9rem;
  }
  
  /* AI agent adjustments */
  #agent-chat{width:90vw;max-width:280px;}
  .agent-avatar{width:2rem;height:2rem;font-size:1.2rem;}
  
  /* lists and text content */
  ul{padding-left:1rem;}
  li{margin-bottom:0.5rem;}
}

/* ---------- AI RESEARCH AGENT ---------- */
#ai-agent{
  position:fixed;
  bottom:1.5rem;
  right:1.5rem;
  z-index:1000;
  font-family:var(--font-sans);
  animation:fadeIn .6s ease-out 0.3s both;
}
.agent-avatar{
  width:3rem;height:3rem;
  display:flex;align-items:center;justify-content:center;
  font-size:1.8rem;
  background:var(--card-bg);
  border-radius:50%;
  cursor:pointer;
  box-shadow:0 4px 12px rgba(0,0,0,.15);
  transition:transform .2s ease;
}
.agent-avatar:hover{transform:scale(1.1);}
.agent-menu{
  list-style:none;margin:.5rem 0 0;padding:0;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:0 4px 12px var(--shadow);
  overflow:hidden;
  max-height:0;
  opacity:0;
  transition:max-height .3s ease,opacity .3s ease;
}
.agent-menu.open{
  max-height:12rem; /* enough to show all items */
  opacity:1;
}
.agent-menu li button{
  all:unset;
  display:block;width:100%;padding:.6rem 1rem;
  cursor:pointer;color:var(--text);font-size:.85rem;
}
.agent-menu li button:hover{
  background:rgba(0,0,0,.05);
}
.agent-quote{
  margin-top:.5rem;
  background:var(--card-bg);
  padding:.5rem 1rem;
  border-radius:var(--radius);
  font-size:.8rem;
  color:var(--muted);
  box-shadow:0 4px 12px rgba(0,0,0,.1);
}

/* ---------- AI AGENT CHAT ---------- */
#agent-chat{
  width:260px;
  max-height:320px;
  display:flex;
  flex-direction:column;
  background:var(--card-bg);
  border-radius:var(--radius);
  box-shadow:0 8px 24px rgba(0,0,0,.25);
  overflow:hidden;
  animation:fadeIn .3s ease-out;
  margin-top:.5rem;
}
.chat-messages{
  flex:1;
  overflow-y:auto;
  padding:.5rem .75rem;
  font-size:.85rem;
}
.chat-msg{margin:.35rem 0;line-height:1.4}
.chat-msg.user  {text-align:right;color:var(--text);}
.chat-msg.ai    {text-align:left; color:var(--muted);}
.chat-input{
  display:flex;
  border-top:1px solid rgba(0,0,0,.05);
}
.chat-input textarea{
  all:unset;
  flex:1;
  padding:.6rem;
  resize:none;
  max-height:6rem;
  overflow-y:auto;
}
.chat-input .send-btn{
  all:unset;
  cursor:pointer;
  padding:.6rem .8rem;
  color:var(--accent);
  font-weight:bold;
}
.chat-input .send-btn:hover{opacity:.8;}

/* fade-in keyframes */
@keyframes fadeIn{
  from{opacity:0;transform:translateY(10px);}
  to{opacity:1;transform:none;}
}

/* ---------- FLOATING ASTRONAUT EXPLORER ---------- */
.floating-astronaut{
  position: fixed;
  font-size: 2rem;
  z-index: 100;
  transition: all 0.2s ease;
  filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.3));
  user-select: none;
  pointer-events: none;
  animation: astronautGentleFloat 4s ease-in-out infinite;
  top: 20%;
  left: 20%;
}

.background-stars{
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  opacity: 0.1;
}

.bg-star{
  position: absolute;
  background: var(--accent);
  border-radius: 50%;
  animation: subtleTwinkle 3s infinite alternate;
}

.astronaut-hint{
  position: fixed;
  bottom: 2rem;
  left: 50%;
  transform: translateX(-50%);
  background: var(--card);
  border: 1px solid var(--border);
  padding: 0.5rem 1rem;
  border-radius: var(--radius);
  font-size: 0.85rem;
  color: var(--muted);
  z-index: 99;
  opacity: 0;
  animation: hintFadeIn 1s ease-out 2s forwards, hintFadeOut 1s ease-out 8s forwards;
  box-shadow: 0 2px 8px var(--shadow);
  backdrop-filter: blur(10px);
}

/* Particle trail effect */
.particle{
  position: fixed;
  width: 2px;
  height: 2px;
  background: var(--accent);
  border-radius: 50%;
  pointer-events: none;
  animation: particleTrail 1s ease-out forwards;
  z-index: 99;
}

/* Animations */
@keyframes astronautGentleFloat{
  0%, 100%{transform: translateY(0px) rotate(0deg);}
  50%{transform: translateY(-8px) rotate(1deg);}
}

@keyframes subtleTwinkle{
  0%{opacity: 0.1; transform: scale(1);}
  100%{opacity: 0.3; transform: scale(1.1);}
}

@keyframes hintFadeIn{
  from{opacity: 0; transform: translateX(-50%) translateY(10px);}
  to{opacity: 0.8; transform: translateX(-50%) translateY(0);}
}

@keyframes hintFadeOut{
  from{opacity: 0.8; transform: translateX(-50%) translateY(0);}
  to{opacity: 0; transform: translateX(-50%) translateY(-10px);}
}

@keyframes particleTrail{
  0%{opacity: 0.8; transform: scale(1);}
  100%{opacity: 0; transform: scale(0.2);}
}

/* Mobile adjustments */
@media(max-width: 768px){
  .floating-astronaut{
    font-size: 1.5rem;
    top: 15%;
    left: 15%;
  }
  
  .astronaut-hint{
    bottom: 1rem;
    font-size: 0.8rem;
    padding: 0.4rem 0.8rem;
    max-width: 90%;
  }
}

/* ---------- MOBILE TOUCH OPTIMIZATIONS ---------- */
/* Improve touch targets for mobile */
@media (hover: none) and (pointer: coarse) {
  a, button, .agent-avatar, #theme-toggle {
    min-height: 44px; /* iOS/Android recommendation */
    min-width: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }
  
  /* Make navigation links more touch-friendly */
  header p:last-of-type a {
    padding: 0.75rem 1.25rem;
    margin: 0.5rem 0.25rem;
    font-size: 0.9rem;
  }
  
  /* Larger theme toggle for touch */
  #theme-toggle {
    font-size: 1.5rem;
    padding: 0.5rem;
  }
}